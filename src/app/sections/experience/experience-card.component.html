<app-card>
  <article class="experience-card">
    <!-- Header -->
    <div class="experience-card__header">
      <div class="experience-card__icon">
        <app-icon [name]="experience().icon || 'briefcase'" [size]="24" />
      </div>

      <div class="experience-card__info">
        <h3 class="experience-card__company">{{ 'experience.items.' + experience().id + '.company' | translate }}</h3>
        <p class="experience-card__role">{{ 'experience.items.' + experience().id + '.role' | translate }}</p>
      </div>

      @if (experience().current) {
        <span class="experience-card__current">
          <span class="experience-card__pulse"></span>
          {{ 'experience.current' | translate }}
        </span>
      }
    </div>

    <!-- Date -->
    <p class="experience-card__date">
      > {{ formatDate(experience().startDate) }} -
      {{ experience().current ? ('experience.present' | translate) : formatDate(experience().endDate!) }}
    </p>

    <!-- Highlights -->
    <ul class="experience-card__highlights">
      @for (idx of experience().highlights; track idx) {
        <li>{{ 'experience.items.' + experience().id + '.highlights.' + idx | translate }}</li>
      }
    </ul>

    <!-- Technologies -->
    <div class="experience-card__tech">
      @for (tech of experience().technologies.slice(0, 6); track tech) {
        <app-badge [variant]="'default'" [small]="true">{{ tech }}</app-badge>
      }
    </div>
  </article>
</app-card>
